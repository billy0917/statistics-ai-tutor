// åœ‹éš›åŒ–èªè¨€åŒ…
const i18n = {
    'zh-TW': {
        // é€šç”¨
        common: {
            loading: 'è¼‰å…¥ä¸­...',
            submit: 'æäº¤',
            cancel: 'å–æ¶ˆ',
            confirm: 'ç¢ºèª',
            back: 'è¿”å›',
            next: 'ä¸‹ä¸€æ­¥',
            previous: 'ä¸Šä¸€æ­¥',
            save: 'ä¿å­˜',
            delete: 'åˆªé™¤',
            edit: 'ç·¨è¼¯',
            close: 'é—œé–‰',
            yes: 'æ˜¯',
            no: 'å¦',
            ok: 'ç¢ºå®š',
            error: 'éŒ¯èª¤',
            success: 'æˆåŠŸ',
            warning: 'è­¦å‘Š',
            info: 'æç¤º',
            disclaimer: 'âš ï¸ å…è²¬è²æ˜ï¼šæœ¬ç³»çµ±ä½¿ç”¨ AI æŠ€è¡“ç”Ÿæˆå…§å®¹ï¼Œç­”æ¡ˆæœªå¿…å®Œå…¨æ­£ç¢ºï¼Œè«‹è¬¹æ…åˆ¤æ–·ä¸¦ä»¥æ•™æåŠè€å¸«æ•™å­¸å…§å®¹ç‚ºæº–ã€‚',
            newChatTip: 'è‹¥ AI å‡ºç¾å•é¡Œï¼Œè«‹æŒ‰ New Chat é‡æ–°é–‹å§‹å°è©±ã€‚',
            setBackground: 'ğŸ–¼ï¸ æ›´æ›èƒŒæ™¯',
            feedback: 'ğŸ“ å•é¡Œåé¥‹'
        },

        // ä¸»èŠå¤©é é¢
        chat: {
            title: 'AI æ•™å­¸åŠ©ç†',
            subtitle: 'æ‚¨çš„å°ˆæ¥­çµ±è¨ˆå­¸ç¿’å¤¥ä¼´ï¼Œéš¨æ™‚ç‚ºæ‚¨è§£ç­”çµ±è¨ˆå­¸ç›¸é—œå•é¡Œ',
            navAiChat: 'ğŸ’¬ AI å°è©±',
            navQuestionBank: 'ğŸ“– é¡Œåº«ç·´ç¿’',
            navAiPractice: 'ğŸ¯ AI ç”Ÿæˆç·´ç¿’',
            navAdmin: 'ğŸ” ç®¡ç†å“¡æ§åˆ¶å°',
            newBadge: 'New',
            welcomeTitle: 'æ­¡è¿ä½¿ç”¨çµ±è¨ˆå­¸ AI æ•™å­¸åŠ©ç†ï¼',
            welcomeMessage: 'æˆ‘å¯ä»¥å¹«åŠ©æ‚¨è§£ç­”çµ±è¨ˆå­¸ç›¸é—œçš„å•é¡Œï¼ŒåŒ…æ‹¬æè¿°çµ±è¨ˆã€æ¨è«–çµ±è¨ˆã€å‡è¨­æª¢å®šç­‰ä¸»é¡Œã€‚',
            loginTitle: 'ğŸ” ç™»å…¥ä»¥è¿½è¹¤å­¸ç¿’é€²åº¦',
            usernamePlaceholder: 'è¼¸å…¥ç”¨æˆ¶å',
            passwordPlaceholder: 'è¼¸å…¥å¯†ç¢¼',
            loginBtn: 'ç™»å…¥',
            registerBtn: 'è¨»å†Š',
            guestBtn: 'ä»¥è¨ªå®¢èº«ä»½ç¹¼çºŒ',
            exampleTitle: 'é»æ“Šä¸‹æ–¹ç¯„ä¾‹é–‹å§‹å°è©±',
            example1: 'ä»€éº¼æ˜¯æ¨™æº–å·®ï¼Ÿå¦‚ä½•è¨ˆç®—ï¼Ÿ',
            example2: 'è«‹è§£é‡‹ä¸­å¤®æ¥µé™å®šç†',
            example3: 'å¦‚ä½•é€²è¡Œtæª¢å®šï¼Ÿ',
            example4: 'ä»€éº¼æ™‚å€™ä½¿ç”¨å¡æ–¹æª¢å®šï¼Ÿ',
            inputPlaceholder: 'è«‹è¼¸å…¥æ‚¨çš„çµ±è¨ˆå­¸å•é¡Œ...',
            sendBtn: 'ç™¼é€',
            thinkingMsg: 'AI æ­£åœ¨æ€è€ƒä¸­',
            userStatus: 'å·²ç™»å…¥',
            logoutBtn: 'ç™»å‡º',
            newChatBtn: 'ğŸ”„ æ–°å°è©±',
            loggedInStatus: 'å·²ç™»å…¥ â€¢ å­¸ç¿’é€²åº¦å·²è¿½è¹¤',
            footer: 'ç”± AI æŠ€è¡“é©…å‹• â€¢ å°ˆæ¥­çµ±è¨ˆå­¸æ•™å­¸åŠ©ç†'
        },

        // ç·´ç¿’é é¢
        practice: {
            title: 'çµ±è¨ˆå­¸ç·´ç¿’ç³»çµ±',
            subtitle: 'é¸æ“‡æ¦‚å¿µå’Œé›£åº¦ï¼Œä½¿ç”¨ AI ç”Ÿæˆå€‹æ€§åŒ–ç·´ç¿’é¡Œï¼',
            newFeature: 'æ–°åŠŸèƒ½ï¼š',
            newFeatureText: 'æƒ³è¦ç³»çµ±åŒ–ç·´ç¿’ï¼Ÿè©¦è©¦',
            questionBankLink: 'é¡Œåº«ç·´ç¿’ç³»çµ±',
            questionBankDesc: 'åŒ…å« Topic 1-10 çš„ 60+ é“é¡Œç›®ï¼',
            backToChat: 'è¿”å›èŠå¤©',
            userTracked: 'å­¸ç¿’é€²åº¦å·²è¿½è¹¤',
            loggedIn: 'âœ“ å·²ç™»å…¥',
            needLogin: 'éœ€è¦ç™»å…¥æ‰èƒ½ä½¿ç”¨ç·´ç¿’ç³»çµ±',
            needLoginDesc: 'è«‹å…ˆåœ¨ä¸»é é¢ç™»å…¥ï¼Œä»¥ä¾¿è¿½è¹¤æ‚¨çš„å­¸ç¿’é€²åº¦',
            goLogin: 'å‰å¾€ç™»å…¥ â†’',
            conceptLabel: 'çµ±è¨ˆæ¦‚å¿µ',
            conceptPlaceholder: 'é¸æ“‡æ¦‚å¿µ...',
            conceptDescriptive: 'æè¿°çµ±è¨ˆ',
            conceptStdDev: 'æ¨™æº–å·®',
            conceptOneSampleT: 'å–®æ¨£æœ¬tæª¢å®š',
            conceptIndependentT: 'ç¨ç«‹æ¨£æœ¬tæª¢å®š',
            conceptPairedT: 'é…å°æ¨£æœ¬tæª¢å®š',
            conceptCorrelation: 'ç›¸é—œåˆ†æ',
            conceptRegression: 'ç°¡å–®è¿´æ­¸',
            conceptChiSquare: 'å¡æ–¹æª¢å®š',
            difficultyLabel: 'é›£åº¦ç´šåˆ¥',
            difficultyBasic: 'åŸºç¤ (Basic)',
            difficultyMedium: 'ä¸­ç´š (Medium)',
            difficultyAdvanced: 'é€²éš (Advanced)',
            typeLabel: 'é¡Œå‹',
            typeMultipleChoice: 'é¸æ“‡é¡Œ (MC)',
            typeCaseStudy: 'æ¡ˆä¾‹åˆ†æ',
            typeCalculation: 'è¨ˆç®—é¡Œ',
            typeInterpretation: 'è§£é‡‹é¡Œ',
            generateBtn: 'ğŸ¯ ç”Ÿæˆæ–°é¡Œç›®',
            loadBtn: 'ğŸ“– å¾é¡Œåº«è¼‰å…¥',
            statsTitle: 'ç·´ç¿’çµ±è¨ˆ',
            totalCount: 'ç¸½é¡Œæ•¸',
            correctCount: 'ç­”å°',
            incorrectCount: 'ç­”éŒ¯',
            accuracy: 'æ­£ç¢ºç‡',
            questionTypeLabel: 'é¸æ“‡é¡Œ (MC)',
            skipBtn: 'è·³é â†’',
            answerPlaceholder: 'è«‹è¼¸å…¥ä½ çš„ç­”æ¡ˆ...',
            submitBtn: 'æäº¤ç­”æ¡ˆ',
            hintBtn: 'ğŸ’¡ æç¤º',
            explanationTitle: 'ğŸ“– è©³ç´°è§£é‡‹',
            nextBtn: 'ä¸‹ä¸€é¡Œ â†’',
            tryAgainBtn: 'ğŸ”„ å†è©¦ä¸€æ¬¡',
            loadingMsg: 'æ­£åœ¨ç”Ÿæˆé¡Œç›®...',
            correctFeedback: 'å›ç­”æ­£ç¢ºï¼',
            incorrectFeedback: 'å›ç­”éŒ¯èª¤',
            correctAnswerLabel: 'æ­£ç¢ºç­”æ¡ˆï¼š'
        },

        // é¡Œåº«é é¢
        questionBank: {
            title: 'é¡Œåº«ç·´ç¿’ç³»çµ±',
            subtitle: 'å¾ Topic 1-10 é¸æ“‡ä¸»é¡Œï¼Œé–‹å§‹ä½ çš„ç³»çµ±åŒ–ç·´ç¿’ï¼',
            aiPractice: 'AI ç”Ÿæˆç·´ç¿’',
            backToChat: 'è¿”å›èŠå¤©',
            userTracked: 'å­¸ç¿’é€²åº¦å·²è¿½è¹¤',
            loggedIn: 'âœ“ å·²ç™»å…¥',
            selectTopicTitle: 'é¸æ“‡ä¸»é¡Œ',
            loadingTopics: 'è¼‰å…¥ä¸»é¡Œä¸­...',
            practiceMode: 'ç·´ç¿’æ¨¡å¼',
            difficultyLabel: 'é›£åº¦ç´šåˆ¥',
            allDifficulty: 'å…¨éƒ¨é›£åº¦',
            difficultyBasic: 'åŸºç¤ (Basic)',
            difficultyMedium: 'ä¸­ç´š (Medium)',
            difficultyAdvanced: 'é€²éš (Advanced)',
            typeLabel: 'é¡Œå‹',
            allTypes: 'å…¨éƒ¨é¡Œå‹',
            typeMultipleChoice: 'é¸æ“‡é¡Œ (MC)',
            typeCalculation: 'è¨ˆç®—é¡Œ',
            typeInterpretation: 'è§£é‡‹é¡Œ',
            typeCaseStudy: 'æ¡ˆä¾‹åˆ†æ',
            countLabel: 'ç·´ç¿’é¡Œæ•¸',
            count5: '5 é¡Œ',
            count10: '10 é¡Œ',
            count15: '15 é¡Œ',
            count20: '20 é¡Œ',
            countAll: 'å…¨éƒ¨é¡Œç›®',
            startPractice: 'ğŸš€ é–‹å§‹ç·´ç¿’',
            randomPractice: 'ğŸ² éš¨æ©Ÿç·´ç¿’',
            changeTopic: 'â† æ›´æ›ä¸»é¡Œ',
            progressTitle: 'ç·´ç¿’é€²åº¦',
            completed: 'å·²å®Œæˆ',
            correct: 'ç­”å°',
            incorrect: 'ç­”éŒ¯',
            accuracy: 'æ­£ç¢ºç‡',
            remaining: 'å‰©é¤˜',
            skipBtn: 'è·³é â†’',
            answerPlaceholder: 'è«‹è¼¸å…¥ä½ çš„ç­”æ¡ˆ...',
            submitBtn: 'æäº¤ç­”æ¡ˆ',
            explanationTitle: 'ğŸ“– è©³ç´°è§£é‡‹',
            nextBtn: 'ä¸‹ä¸€é¡Œ â†’',
            tryAgainBtn: 'ğŸ”„ å†è©¦ä¸€æ¬¡',
            summaryTitle: 'ç·´ç¿’å®Œæˆï¼',
            summarySubtitle: 'æ­å–œä½ å®Œæˆäº†é€™æ¬¡ç·´ç¿’',
            totalQuestions: 'ç¸½é¡Œæ•¸',
            correctAnswers: 'ç­”å°é¡Œæ•¸',
            reviewBtn: 'ğŸ“ è¤‡ç¿’éŒ¯é¡Œ',
            continueBtn: 'ğŸ”„ ç¹¼çºŒç·´ç¿’',
            changeTopicBtn: 'ğŸ“š æ›´æ›ä¸»é¡Œ',
            topicQuestions: 'é¡Œ',
            topicConcepts: 'æ¦‚å¿µ',
            basicLabel: 'åŸºç¤',
            mediumLabel: 'ä¸­ç´š',
            advancedLabel: 'é€²éš',
            correctFeedback: 'å›ç­”æ­£ç¢ºï¼',
            incorrectFeedback: 'å›ç­”éŒ¯èª¤',
            correctAnswerLabel: 'æ­£ç¢ºç­”æ¡ˆï¼š'
        },

        // ç®¡ç†å“¡é é¢
        admin: {
            adminTitle: 'ç®¡ç†å“¡æ§åˆ¶å°',
            adminSubtitle: 'ç®¡ç†æ‰€æœ‰ç”¨æˆ¶çš„å­¸ç¿’é€²åº¦å’Œç³»çµ±çµ±è¨ˆ',
            logoutBtn: 'ç™»å‡º',
            backToHome: 'è¿”å›é¦–é ',
            systemOverview: 'ğŸ“Š ç³»çµ±ç¸½è¦½',
            totalUsersLabel: 'ç¸½ç”¨æˆ¶æ•¸',
            totalQuestionsLabel: 'ç¸½é¡Œç›®æ•¸',
            totalAnswersLabel: 'ç¸½ç­”é¡Œæ•¸',
            activeTodayLabel: 'ä»Šæ—¥æ´»èº',
            userListTitle: 'ğŸ‘¥ ç”¨æˆ¶åˆ—è¡¨',
            refreshBtn: 'ğŸ”„ åˆ·æ–°',
            searchPlaceholder: 'æœç´¢ç”¨æˆ¶å...',
            loadingUsers: 'è¼‰å…¥ç”¨æˆ¶ä¸­...',
            noUsers: 'æš«ç„¡ç”¨æˆ¶æ•¸æ“š',
            viewDetails: 'æŸ¥çœ‹è©³æƒ… â†’',
            practiceCountLabel: 'ç·´ç¿’é¡Œæ•¸',
            accuracyLabel: 'æ­£ç¢ºç‡',
            lastLogin: 'æœ€å¾Œç™»å…¥',
            userDetailsTitle: 'ç”¨æˆ¶è©³æƒ…',
            usernameLabel: 'ç”¨æˆ¶å',
            userIdLabel: 'ç”¨æˆ¶ID',
            createdAtLabel: 'è¨»å†Šæ™‚é–“',
            lastLoginLabel: 'æœ€å¾Œç™»å…¥',
            learningProgressTitle: 'ğŸ“š å­¸ç¿’é€²åº¦',
            conceptNameLabel: 'æ¦‚å¿µ',
            masteryLevelLabel: 'æŒæ¡åº¦',
            practiceCountLabel2: 'ç·´ç¿’æ¬¡æ•¸',
            correctAnswersLabel: 'æ­£ç¢ºç­”é¡Œæ•¸',
            lastPracticedLabel: 'æœ€å¾Œç·´ç¿’',
            noProgressData: 'æš«ç„¡å­¸ç¿’é€²åº¦æ•¸æ“š',
            chatSessionsTitle: 'ğŸ’¬ èŠå¤©è¨˜éŒ„',
            sessionIdLabel: 'æœƒè©±ID',
            startTimeLabel: 'é–‹å§‹æ™‚é–“',
            messageCountLabel: 'æ¶ˆæ¯æ•¸',
            sessionSummaryLabel: 'æœƒè©±æ‘˜è¦',
            noChatSessions: 'æš«ç„¡èŠå¤©è¨˜éŒ„',
            practiceSessionsTitle: 'ğŸ¯ ç·´ç¿’è¨˜éŒ„',
            totalQuestionsLabel2: 'ç¸½é¡Œæ•¸',
            correctAnswersLabel2: 'æ­£ç¢ºæ•¸',
            timeSpentLabel: 'ç”¨æ™‚',
            seconds: 'ç§’',
            noPracticeSessions: 'æš«ç„¡ç·´ç¿’è¨˜éŒ„',
            totalConceptsTracked: 'è¿½è¹¤æ¦‚å¿µæ•¸',
            learningConcepts: 'å­¸ç¿’æ¦‚å¿µ',
            masteryLabel: 'æŒæ¡åº¦',
            // AI Practice çµ±è¨ˆå’Œè¨˜éŒ„
            practiceStatsTitle: 'ğŸ“ˆ AI Practice çµ±è¨ˆ',
            conceptStatsTitle: 'æŒ‰æ¦‚å¿µçµ±è¨ˆ',
            difficultyStatsTitle: 'æŒ‰é›£åº¦çµ±è¨ˆ',
            typeStatsTitle: 'æŒ‰é¡Œå‹çµ±è¨ˆ',
            practiceRecordsTitle: 'âœï¸ AI Practice ç­”é¡Œè¨˜éŒ„',
            allConcepts: 'æ‰€æœ‰æ¦‚å¿µ',
            allDifficulties: 'æ‰€æœ‰é›£åº¦',
            basicLevel: 'åŸºç¤',
            mediumLevel: 'ä¸­ç´š',
            advancedLevel: 'é€²éš',
            allResults: 'æ‰€æœ‰çµæœ',
            correctOnly: 'åƒ…æ­£ç¢º',
            incorrectOnly: 'åƒ…éŒ¯èª¤',
            searchUserPlaceholder: 'æœç´¢ç”¨æˆ¶...',
            loadingRecords: 'è¼‰å…¥è¨˜éŒ„ä¸­...',
            noRecords: 'æš«ç„¡ç­”é¡Œè¨˜éŒ„',
            prevPage: 'ä¸Šä¸€é ',
            nextPage: 'ä¸‹ä¸€é '
        }
    },

    'en': {
        // Common
        common: {
            loading: 'Loading...',
            submit: 'Submit',
            cancel: 'Cancel',
            confirm: 'Confirm',
            back: 'Back',
            next: 'Next',
            previous: 'Previous',
            save: 'Save',
            delete: 'Delete',
            edit: 'Edit',
            close: 'Close',
            yes: 'Yes',
            no: 'No',
            ok: 'OK',
            error: 'Error',
            success: 'Success',
            warning: 'Warning',
            info: 'Info',
            disclaimer: 'âš ï¸ Disclaimer: This system uses AI technology to generate content. Answers may not be entirely accurate. Please use your judgment and refer to your course materials and instructor\'s guidance.',
            newChatTip: 'If the AI encounters issues, please click New Chat to restart the conversation.',
            setBackground: 'ğŸ–¼ï¸ Change Background',
            feedback: 'ğŸ“ Feedback'
        },

        // Main Chat Page
        chat: {
            title: 'AI Teaching Assistant',
            subtitle: 'Your Professional Statistics Learning Partner, Ready to Answer Your Questions',
            navAiChat: 'ğŸ’¬ AI Chat',
            navQuestionBank: 'ğŸ“– Question Bank',
            navAiPractice: 'ğŸ¯ AI Practice',
            navAdmin: 'ğŸ” Admin Dashboard',
            newBadge: 'New',
            welcomeTitle: 'Welcome to Statistics AI Teaching Assistant!',
            welcomeMessage: 'I can help you with statistics questions, including descriptive statistics, inferential statistics, hypothesis testing, and more.',
            loginTitle: 'ğŸ” Login to Track Your Progress',
            usernamePlaceholder: 'Enter username',
            passwordPlaceholder: 'Enter password',
            loginBtn: 'Login',
            registerBtn: 'Register',
            guestBtn: 'Continue as Guest',
            exampleTitle: 'Click examples below to start',
            example1: 'What is standard deviation? How to calculate it?',
            example2: 'Explain the Central Limit Theorem',
            example3: 'How to perform a t-test?',
            example4: 'When to use Chi-square test?',
            inputPlaceholder: 'Enter your statistics question...',
            sendBtn: 'Send',
            thinkingMsg: 'AI is thinking',
            userStatus: 'Logged in',
            logoutBtn: 'Logout',
            newChatBtn: 'ğŸ”„ New Chat',
            loggedInStatus: 'Logged in â€¢ Progress tracked',
            footer: 'Powered by AI â€¢ Professional Statistics Teaching Assistant'
        },

        // Practice Page
        practice: {
            title: 'Statistics Practice System',
            subtitle: 'Select concept and difficulty to generate personalized practice questions!',
            newFeature: 'New Feature:',
            newFeatureText: 'Want systematic practice? Try',
            questionBankLink: 'Question Bank System',
            questionBankDesc: 'with 60+ questions from Topic 1-10!',
            backToChat: 'Back to Chat',
            userTracked: 'Progress tracked',
            loggedIn: 'âœ“ Logged in',
            needLogin: 'Login Required to Use Practice System',
            needLoginDesc: 'Please login on the main page to track your learning progress',
            goLogin: 'Go to Login â†’',
            conceptLabel: 'Statistical Concept',
            conceptPlaceholder: 'Select concept...',
            conceptDescriptive: 'Descriptive Statistics',
            conceptStdDev: 'Standard Deviation',
            conceptSampleSize: 'Sample Size',
            conceptOneSampleT: 'One-Sample t-Test',
            conceptIndependentT: 'Independent t-Test',
            conceptPairedT: 'Paired t-Test',
            conceptCorrelation: 'Correlation Analysis',
            conceptRegression: 'Simple Regression',
            conceptChiSquare: 'Chi-Square Test',
            difficultyLabel: 'Difficulty Level',
            difficultyBasic: 'Basic',
            difficultyMedium: 'Medium',
            difficultyAdvanced: 'Advanced',
            typeLabel: 'Question Type',
            typeMultipleChoice: 'Multiple Choice (MC)',
            typeCaseStudy: 'Case Study',
            typeCalculation: 'Calculation',
            typeInterpretation: 'Interpretation',
            generateBtn: 'ğŸ¯ Generate Question',
            loadBtn: 'ğŸ“– Load from Bank',
            statsTitle: 'Practice Statistics',
            totalCount: 'Total',
            correctCount: 'Correct',
            incorrectCount: 'Incorrect',
            accuracy: 'Accuracy',
            questionTypeLabel: 'Multiple Choice',
            skipBtn: 'Skip â†’',
            answerPlaceholder: 'Enter your answer...',
            submitBtn: 'Submit Answer',
            hintBtn: 'ğŸ’¡ Hint',
            explanationTitle: 'ğŸ“– Detailed Explanation',
            nextBtn: 'Next Question â†’',
            tryAgainBtn: 'ğŸ”„ Try Again',
            loadingMsg: 'Generating question...',
            correctFeedback: 'Correct!',
            incorrectFeedback: 'Incorrect',
            correctAnswerLabel: 'Correct answer: '
        },

        // Question Bank Page
        questionBank: {
            title: 'Question Bank Practice',
            subtitle: 'Choose from Topic 1-10 to start systematic practice!',
            aiPractice: 'AI Practice',
            backToChat: 'Back to Chat',
            userTracked: 'Progress tracked',
            loggedIn: 'âœ“ Logged in',
            selectTopicTitle: 'Select Topic',
            loadingTopics: 'Loading topics...',
            practiceMode: 'Practice Mode',
            difficultyLabel: 'Difficulty Level',
            allDifficulty: 'All Levels',
            difficultyBasic: 'Basic',
            difficultyMedium: 'Medium',
            difficultyAdvanced: 'Advanced',
            typeLabel: 'Question Type',
            allTypes: 'All Types',
            typeMultipleChoice: 'Multiple Choice (MC)',
            typeCalculation: 'Calculation',
            typeInterpretation: 'Interpretation',
            typeCaseStudy: 'Case Study',
            countLabel: 'Number of Questions',
            count5: '5 questions',
            count10: '10 questions',
            count15: '15 questions',
            count20: '20 questions',
            countAll: 'All questions',
            startPractice: 'ğŸš€ Start Practice',
            randomPractice: 'ğŸ² Random Practice',
            changeTopic: 'â† Change Topic',
            progressTitle: 'Practice Progress',
            completed: 'Completed',
            correct: 'Correct',
            incorrect: 'Incorrect',
            accuracy: 'Accuracy',
            remaining: 'Remaining',
            skipBtn: 'Skip â†’',
            answerPlaceholder: 'Enter your answer...',
            submitBtn: 'Submit Answer',
            explanationTitle: 'ğŸ“– Detailed Explanation',
            nextBtn: 'Next Question â†’',
            tryAgainBtn: 'ğŸ”„ Try Again',
            summaryTitle: 'Practice Complete!',
            summarySubtitle: 'Congratulations on completing this practice session',
            totalQuestions: 'Total Questions',
            correctAnswers: 'Correct Answers',
            reviewBtn: 'ğŸ“ Review Mistakes',
            continueBtn: 'ğŸ”„ Continue Practice',
            changeTopicBtn: 'ğŸ“š Change Topic',
            topicQuestions: 'Q',
            topicConcepts: 'Concepts',
            basicLabel: 'Basic',
            mediumLabel: 'Medium',
            advancedLabel: 'Advanced',
            correctFeedback: 'Correct!',
            incorrectFeedback: 'Incorrect',
            correctAnswerLabel: 'Correct answer: '
        },

        // Admin Page
        admin: {
            adminTitle: 'Admin Dashboard',
            adminSubtitle: 'Manage all users and system statistics',
            logoutBtn: 'Logout',
            backToHome: 'Back to Home',
            systemOverview: 'ğŸ“Š System Overview',
            totalUsersLabel: 'Total Users',
            totalQuestionsLabel: 'Total Questions',
            totalAnswersLabel: 'Total Answers',
            activeTodayLabel: 'Active Today',
            userListTitle: 'ğŸ‘¥ User List',
            refreshBtn: 'ğŸ”„ Refresh',
            searchPlaceholder: 'Search username...',
            loadingUsers: 'Loading users...',
            noUsers: 'No user data',
            viewDetails: 'View Details â†’',
            practiceCountLabel: 'Practice Count',
            accuracyLabel: 'Accuracy',
            lastLogin: 'Last Login',
            userDetailsTitle: 'User Details',
            usernameLabel: 'Username',
            userIdLabel: 'User ID',
            createdAtLabel: 'Created At',
            lastLoginLabel: 'Last Login',
            learningProgressTitle: 'ğŸ“š Learning Progress',
            conceptNameLabel: 'Concept',
            masteryLevelLabel: 'Mastery Level',
            practiceCountLabel2: 'Practice Count',
            correctAnswersLabel: 'Correct Answers',
            lastPracticedLabel: 'Last Practiced',
            noProgressData: 'No learning progress data',
            chatSessionsTitle: 'ğŸ’¬ Chat Sessions',
            sessionIdLabel: 'Session ID',
            startTimeLabel: 'Start Time',
            messageCountLabel: 'Messages',
            sessionSummaryLabel: 'Summary',
            noChatSessions: 'No chat sessions',
            practiceSessionsTitle: 'ğŸ¯ Practice Sessions',
            totalQuestionsLabel2: 'Total Questions',
            correctAnswersLabel2: 'Correct',
            timeSpentLabel: 'Time Spent',
            seconds: 'seconds',
            noPracticeSessions: 'No practice sessions',
            totalConceptsTracked: 'Concepts Tracked',
            learningConcepts: 'Learning Concepts',
            masteryLabel: 'Mastery',
            // AI Practice Stats and Records
            practiceStatsTitle: 'ğŸ“ˆ AI Practice Statistics',
            conceptStatsTitle: 'By Concept',
            difficultyStatsTitle: 'By Difficulty',
            typeStatsTitle: 'By Question Type',
            practiceRecordsTitle: 'âœï¸ AI Practice Records',
            allConcepts: 'All Concepts',
            allDifficulties: 'All Difficulties',
            basicLevel: 'Basic',
            mediumLevel: 'Medium',
            advancedLevel: 'Advanced',
            allResults: 'All Results',
            correctOnly: 'Correct Only',
            incorrectOnly: 'Incorrect Only',
            searchUserPlaceholder: 'Search user...',
            loadingRecords: 'Loading records...',
            noRecords: 'No practice records',
            prevPage: 'Previous',
            nextPage: 'Next'
        }
    }
};

// èªè¨€ç®¡ç†å™¨
class LanguageManager {
    constructor() {
        this.currentLang = localStorage.getItem('language') || 'en';
    }

    // ç²å–ç•¶å‰èªè¨€
    getCurrentLanguage() {
        return this.currentLang;
    }

    // è¨­ç½®èªè¨€
    setLanguage(lang) {
        if (i18n[lang]) {
            this.currentLang = lang;
            localStorage.setItem('language', lang);
            document.documentElement.lang = lang;
            return true;
        }
        return false;
    }

    // ç¿»è­¯æ–‡æœ¬
    t(key, section = 'common') {
        const keys = key.split('.');
        let value = i18n[this.currentLang][section];
        
        for (const k of keys) {
            if (value && value[k] !== undefined) {
                value = value[k];
            } else {
                console.warn(`Translation missing: ${section}.${key} in ${this.currentLang}`);
                return key;
            }
        }
        
        return value;
    }

    // ç¿»è­¯å…ƒç´ 
    translateElement(element, key, section) {
        const translation = this.t(key, section);
        if (element.placeholder !== undefined && element.tagName === 'INPUT') {
            element.placeholder = translation;
        } else if (element.tagName === 'OPTION') {
            element.textContent = translation;
        } else {
            element.textContent = translation;
        }
    }

    // ç¿»è­¯é é¢
    translatePage(section) {
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            // è™•ç†åŒ…å«é»è™Ÿçš„ keyï¼ˆå¦‚ common.disclaimerï¼‰
            if (key.includes('.')) {
                const parts = key.split('.');
                const targetSection = parts[0];
                const targetKey = parts.slice(1).join('.');
                this.translateElement(element, targetKey, targetSection);
            } else {
                this.translateElement(element, key, section);
            }
        });
    }
}

// å‰µå»ºå…¨å±€èªè¨€ç®¡ç†å™¨å¯¦ä¾‹
const langManager = new LanguageManager();


